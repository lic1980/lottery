{"remainingRequest":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\babel-loader\\lib\\index.js!C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\workspace\\lottery\\lottery-agent-app\\src\\components\\CustomersAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\workspace\\lottery\\lottery-agent-app\\src\\components\\CustomersAdmin.vue","mtime":1599726891950},{"path":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L3dvcmtzcGFjZS9sb3R0ZXJ5L2xvdHRlcnktYWdlbnQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbW91bnQ6IDAsCiAgICAgIGFnZW50OiB7fSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGN1c3RvbWVyOiB7fSwKICAgICAgY3VzdG9tZXJzOiBbXSwKICAgICAgc3RhcnREZXBvc2l0OiBmYWxzZSwKICAgICAgdGVtcDoge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuY3VzdG9tZXIgPSB7fTsKICAgICAgdGhpcy5hbW91bnQgPSAxOwogICAgfSwKICAgIG9wZW5EZXBvc2l0RGlhZzogZnVuY3Rpb24gb3BlbkRlcG9zaXREaWFnKHJvdykgewogICAgICB0aGlzLmFtb3VudCA9IDE7CiAgICAgIHRoaXMuY3VzdG9tZXIgPSByb3c7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgc3VibWl0RGVwb3NpdDogZnVuY3Rpb24gc3VibWl0RGVwb3NpdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuc3RhcnREZXBvc2l0ID0gdHJ1ZTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgImN1c3RvbWVyIjogewogICAgICAgICAgImlkIjogdGhpcy5jdXN0b21lci5pZAogICAgICAgIH0sCiAgICAgICAgImFnZW50IjogewogICAgICAgICAgImlkIjogdGhpcy5hZ2VudC5pZAogICAgICAgIH0sCiAgICAgICAgImFtb3VudCI6IHRoaXMuYW1vdW50CiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdjEvY3VzdG9tZXJzLzEvZGVwb3NpdHMnLCBkYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy50ZW1wID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB2YXIgZGVwb3NpdCA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpcy5jdXN0b21lcnMpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBjdXMgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgIGlmIChjdXMuaWQgPT0gX3RoaXMuY3VzdG9tZXIuaWQpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkZXBvc2l0LmFtb3VudCk7CiAgICAgICAgICAgICAgY3VzLmRlcG9zaXQgPSBjdXMuZGVwb3NpdCArIGRlcG9zaXQuYW1vdW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuc3RhcnREZXBvc2l0ID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBfdGhpcy5zdGFydERlcG9zaXQgPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS92MS9hZ2VudHMvMScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiBfdGhpczIuYWdlbnQgPSByZXNwb25zZS5kYXRhOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3YxL2N1c3RvbWVycz9hZ2VudD0xJnBhZ2U9MSZzaXplPTEwJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMyLmN1c3RvbWVycyA9IHJlc3BvbnNlLmRhdGEuY29udGVudDsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["CustomersAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,KAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,YAAA,EAAA,KANA;AAOA,MAAA,IAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,CAAA;AACA,KALA;AAMA,IAAA,eANA,2BAMA,GANA,EAMA;AACA,WAAA,MAAA,GAAA,CAAA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,aAXA,2BAWA;AAAA;;AACA,WAAA,YAAA,GAAA,IAAA;AACA,UAAA,IAAA,GAAA;AACA,oBAAA;AAAA,gBAAA,KAAA,QAAA,CAAA;AAAA,SADA;AAEA,iBAAA;AAAA,gBAAA,KAAA,KAAA,CAAA;AAAA,SAFA;AAGA,kBAAA,KAAA;AAHA,OAAA;AAKA,MAAA,KAAA,CACA,IADA,CACA,mDADA,EACA,IADA,EACA;AAAA,QAAA,OAAA,EAAA;AAAA,0BAAA;AAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA,YAAA,OAAA,GAAA,QAAA,CAAA,IAAA;;AAFA,mDAGA,KAAA,CAAA,SAHA;AAAA;;AAAA;AAGA,8DAAA;AAAA,gBAAA,GAAA;;AACA,gBAAA,GAAA,CAAA,EAAA,IAAA,KAAA,CAAA,QAAA,CAAA,EAAA,EAAA;AAEA,cAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,MAAA;AACA,cAAA,GAAA,CAAA,OAAA,GAAA,GAAA,CAAA,OAAA,GAAA,OAAA,CAAA,MAAA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;;AAWA,QAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,OAdA,EAeA,KAfA,CAeA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,OAlBA;AAmBA,WAAA,aAAA,GAAA,KAAA;AACA;AAtCA,GAZA;AAoDA,EAAA,OApDA,qBAoDA;AAAA;;AACA,IAAA,KAAA,CACA,GADA,CACA,uCADA,EAEA,IAFA,CAEA,UAAA,QAAA;AAAA,aAAA,MAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;AAAA,KAFA,EAGA,KAHA,CAGA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,KALA;AAMA,IAAA,KAAA,CACA,GADA,CACA,+DADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,KAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,KAPA;AAQA;AAnEA,CAAA","sourcesContent":["<template>\n    <div>\n        <div>\n            <div></div>\n        </div>\n        <div>\n            <div>客户列表：</div> \n            <div>\n                <el-table :data=\"customers\" style=\"width: 100%\">\n                    <el-table-column prop=\"tel\" label=\"客户电话\">\n                    </el-table-column>   \n                    <el-table-column prop=\"deposit\" label=\"余额\">\n                    </el-table-column>   \n                    <el-table-column label=\"操作\">\n                        <template slot-scope=\"scope\">\n                            <el-button\n                            size=\"mini\"\n                            @click=\"openDepositDiag(scope.row)\">充值</el-button>\n                        </template>\n                    </el-table-column>\n                </el-table>\n            </div>\n        </div>\n        <el-dialog\n            title=\"充值\"\n            :visible.sync=\"dialogVisible\"\n            width=\"350px\"\n            :before-close=\"handleClose\">\n            <div>\n                <el-form>\n                 <el-form-item label=\"客户电话：\" label-width=\"100px\">\n                    <el-input v-model=\"customer.tel\" size=\"small\" :disabled=\"true\"></el-input>\n                 </el-form-item>\n                </el-form>\n            </div>\n            <div>\n                <el-form>\n                 <el-form-item label=\"客户现值：\" label-width=\"100px\">\n                    <el-input v-model=\"customer.deposit\" size=\"small\" :disabled=\"true\"></el-input>\n                 </el-form-item>\n                </el-form>\n            </div>\n            <div>\n                <el-form>\n                 <el-form-item label=\"客户充值：\" label-width=\"100px\">\n                    <el-input-number v-model=\"amount\" size=\"small\" :precision=\"2\" :step=\"1\" :max=\"1000\"></el-input-number>\n                 </el-form-item>\n                </el-form>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitDeposit()\" :disabled=\"startDeposit\">确 定</el-button>\n            </span>\n        </el-dialog>\n        {{temp.deposit}}\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data () {\n        return {\n            amount: 0,\n            agent: {},\n            dialogVisible: false,\n            customer: {},\n            customers: [],\n            startDeposit: false,\n            temp: {}\n        };\n    },\n    methods: {\n        handleClose(){\n            this.dialogVisible = true;\n            this.customer = {};\n            this.amount = 1;\n        },\n        openDepositDiag(row) {\n            this.amount = 1;\n            this.customer = row;\n            this.dialogVisible = true;\n        },\n        submitDeposit() {\n            this.startDeposit = true;\n            let data = {\n                \"customer\": {\"id\": this.customer.id},\n                \"agent\": {\"id\": this.agent.id},\n                \"amount\": this.amount\n            };\n            axios\n                .post('http://localhost:8080/api/v1/customers/1/deposits', data, {headers: {'Content-Type': 'application/json'}})\n                .then(response => {\n                    this.temp = response.data;\n                    let deposit = response.data;\n                    for (let cus of this.customers) {\n                        if (cus.id == this.customer.id) {\n                            \n                            console.log(deposit.amount);\n                           cus.deposit =  cus.deposit + deposit.amount;\n                        } \n                    }\n\n                    this.startDeposit = false;\n                })\n                .catch(error => { \n                    console.log(error);\n                    this.startDeposit = false;\n                });\n            this.dialogVisible = false;\n        }\n    },\n    mounted () {\n        axios\n            .get('http://localhost:8080/api/v1/agents/1')\n            .then(response => (this.agent = response.data))\n            .catch(function (error) { \n                console.log(error);\n            });\n        axios\n            .get('http://localhost:8080/api/v1/customers?agent=1&page=1&size=10')\n            .then(response => {\n                    this.customers = response.data.content;\n                })\n            .catch(function (error) { \n                console.log(error);\n            });\n    }\n}\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src/components"}]}