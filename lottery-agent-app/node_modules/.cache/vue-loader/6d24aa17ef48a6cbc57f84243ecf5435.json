{"remainingRequest":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\workspace\\lottery\\lottery-agent-app\\src\\components\\AgentAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\workspace\\lottery\\lottery-agent-app\\src\\components\\AgentAdmin.vue","mtime":1605623891721},{"path":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-agent-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYWdlbnQ6IHt9CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBoYW5kbGVDbG9zZSgpewogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmN1c3RvbWVyID0ge307CiAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gMTsKICAgICAgICB9LAogICAgICAgIG9wZW5EZXBvc2l0RGlhZyhyb3cpIHsKICAgICAgICAgICAgdGhpcy5hbW91bnQgPSAxOwogICAgICAgICAgICB0aGlzLmN1c3RvbWVyID0gcm93OwogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgc3VibWl0RGVwb3NpdCgpIHsKICAgICAgICAgICAgdGhpcy5zdGFydERlcG9zaXQgPSB0cnVlOwogICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICJjdXN0b21lciI6IHsiaWQiOiB0aGlzLmN1c3RvbWVyLmlkfSwKICAgICAgICAgICAgICAgICJhZ2VudCI6IHsiaWQiOiB0aGlzLmFnZW50LmlkfSwKICAgICAgICAgICAgICAgICJhbW91bnQiOiB0aGlzLmFtb3VudAogICAgICAgICAgICB9OwogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdjEvYWdlbnRzLycrdGhpcy5hZ2VudC5pZCsnL2N1c3RvbWVycy8nICt0aGlzLmN1c3RvbWVyLmlkKyAnL2RlcG9zaXRzJywgZGF0YSwge2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGRlcG9zaXQgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGN1cyBvZiB0aGlzLmN1c3RvbWVycykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VzLmlkID09IHRoaXMuY3VzdG9tZXIuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzLmRlcG9zaXQgPSAgY3VzLmRlcG9zaXQgKyBkZXBvc2l0LmFtb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREZXBvc2l0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsgCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREZXBvc2l0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQgKCkgewogICAgICAgIGxldCBhZ2VudElkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShnbG9iYWwuQUdFTlRfSURfS0VZKTsKICAgICAgICBheGlvcwogICAgICAgICAgICAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3YxL2FnZW50cy8nICsgYWdlbnRJZCkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKHRoaXMuYWdlbnQgPSByZXNwb25zZS5kYXRhKSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgeyAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSk7CgogICAgfQp9Cg=="},{"version":3,"sources":["AgentAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"AgentAdmin.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div style=\"overflow:hidden\">\n            <div style=\"float:left;width:60px;\">电话：</div>\n            <div>电话：</div>\n        </div>\n        <div>\n            <div>地址：</div>\n            <div>电话：</div>\n        </div>\n        <div>\n            <div>微信：</div>\n            <div>电话：</div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data () {\n        return {\n            agent: {}\n        }\n    },\n    methods: {\n        handleClose(){\n            this.dialogVisible = true;\n            this.customer = {};\n            this.amount = 1;\n        },\n        openDepositDiag(row) {\n            this.amount = 1;\n            this.customer = row;\n            this.dialogVisible = true;\n        },\n        submitDeposit() {\n            this.startDeposit = true;\n            let data = {\n                \"customer\": {\"id\": this.customer.id},\n                \"agent\": {\"id\": this.agent.id},\n                \"amount\": this.amount\n            };\n            axios\n                .post('http://localhost:8080/api/v1/agents/'+this.agent.id+'/customers/' +this.customer.id+ '/deposits', data, {headers: {'Content-Type': 'application/json'}})\n                .then(response => {\n                    let deposit = response.data;\n                    for (let cus of this.customers) {\n                        if (cus.id == this.customer.id) {\n                           cus.deposit =  cus.deposit + deposit.amount;\n                        } \n                    }\n\n                    this.startDeposit = false;\n                })\n                .catch(error => { \n                    console.log(error);\n                    this.startDeposit = false;\n                });\n            this.dialogVisible = false;\n        }\n    },\n    mounted () {\n        let agentId = sessionStorage.getItem(global.AGENT_ID_KEY);\n        axios\n            .get('http://localhost:8080/api/v1/agents/' + agentId)\n            .then(response => (this.agent = response.data))\n            .catch(function (error) { \n                console.log(error);\n            });\n\n    }\n}\n</script>\n\n<style>\n\n</style>"]}]}