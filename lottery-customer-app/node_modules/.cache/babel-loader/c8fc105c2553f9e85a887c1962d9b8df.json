{"remainingRequest":"C:\\workspace\\lottery\\lottery-customer-app\\node_modules\\babel-loader\\lib\\index.js!C:\\workspace\\lottery\\lottery-customer-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\workspace\\lottery\\lottery-customer-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\workspace\\lottery\\lottery-customer-app\\src\\components\\Lottery.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\workspace\\lottery\\lottery-customer-app\\src\\components\\Lottery.vue","mtime":1604386929759},{"path":"C:\\workspace\\lottery\\lottery-customer-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-customer-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-customer-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\lottery\\lottery-customer-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICJDOi93b3Jrc3BhY2UvbG90dGVyeS9sb3R0ZXJ5LWN1c3RvbWVyLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJDOi93b3Jrc3BhY2UvbG90dGVyeS9sb3R0ZXJ5LWN1c3RvbWVyLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovd29ya3NwYWNlL2xvdHRlcnkvbG90dGVyeS1jdXN0b21lci1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmZWU6IDAsCiAgICAgIGN1cnJlbnQ6IG51bGwsCiAgICAgIHRpbWVzOiAxLAogICAgICBjdXN0b21lcjogewogICAgICAgICJpZCI6ICIiLAogICAgICAgICJkZXBvc2l0IjogMAogICAgICB9LAogICAgICBsb3R0ZXJ5Um91bmQ6IHsKICAgICAgICAibG90dGVyeSI6IHsKICAgICAgICAgICJuYW1lIjogIiIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9wdGlvbnNCeUl0ZW1JZDogbmV3IE1hcCgpLAogICAgICBpdGVtQnlJdGVtSWQ6IG5ldyBNYXAoKSwKICAgICAgb3B0aW9uc1NlbGVjdGVkOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdE9wdGlvbjogZnVuY3Rpb24gc2VsZWN0T3B0aW9uKG9wdGlvblNlbGVjdGVkKSB7CiAgICAgIHZhciBvcHRpb25zU2VsZWN0ZWRUZW1wID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMub3B0aW9uc1NlbGVjdGVkKTsKCiAgICAgIHZhciBwb3NpdGlvbiA9IG9wdGlvbnNTZWxlY3RlZFRlbXAuaW5kZXhPZihvcHRpb25TZWxlY3RlZCk7CgogICAgICBpZiAocG9zaXRpb24gPCAwKSB7CiAgICAgICAgb3B0aW9uc1NlbGVjdGVkVGVtcC5wdXNoKG9wdGlvblNlbGVjdGVkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvcHRpb25zU2VsZWN0ZWRUZW1wLnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICAgIH0gLy8gY291bnQgb3B0aW9ucyBzZWxlY3RlZCBieSBpdGVtCgoKICAgICAgdmFyIG9wdGlvblNlbGVjdGVkTnVtQnlJdGVtSWQgPSBuZXcgTWFwKCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnNTZWxlY3RlZFRlbXAubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1NlbGVjdGVkVGVtcFtpXTsKICAgICAgICB2YXIgaXRlbUlkID0gb3B0aW9uLml0ZW0uaWQ7CgogICAgICAgIGlmIChvcHRpb25TZWxlY3RlZE51bUJ5SXRlbUlkLmhhcyhpdGVtSWQpKSB7CiAgICAgICAgICBvcHRpb25TZWxlY3RlZE51bUJ5SXRlbUlkLnNldChpdGVtSWQsIG9wdGlvblNlbGVjdGVkTnVtQnlJdGVtSWQuZ2V0KGl0ZW1JZCkgKyAxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3B0aW9uU2VsZWN0ZWROdW1CeUl0ZW1JZC5zZXQoaXRlbUlkLCAxKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCIjIyMxICIgKyBvcHRpb25TZWxlY3RlZE51bUJ5SXRlbUlkLnNpemUpOwogICAgICBjb25zb2xlLmxvZygiIyMjMiAiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5sb3R0ZXJ5Um91bmQubG90dGVyeSkpOyAvLyBjb3VudCBmZWUKCiAgICAgIGlmIChvcHRpb25TZWxlY3RlZE51bUJ5SXRlbUlkLnNpemUgPj0gdGhpcy5sb3R0ZXJ5Um91bmQubG90dGVyeS5taW5JdGVtTnVtKSB7CiAgICAgICAgdmFyIGJhc2VGZWUgPSB0aGlzLmxvdHRlcnlSb3VuZC5sb3R0ZXJ5LmJhc2VGZWU7CiAgICAgICAgdmFyIHRvdGFsRmVlID0gMTsKCiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9wdGlvblNlbGVjdGVkTnVtQnlJdGVtSWQpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBfc3RlcCR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwLnZhbHVlLCAyKSwKICAgICAgICAgICAgICAgIF9pdGVtSWQgPSBfc3RlcCR2YWx1ZVswXSwKICAgICAgICAgICAgICAgIG51bSA9IF9zdGVwJHZhbHVlWzFdOwoKICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1CeUl0ZW1JZC5nZXQoX2l0ZW1JZCk7CiAgICAgICAgICAgIHZhciBtaW5PcHRpb25OdW0gPSBpdGVtLm1pbk9wdGlvbk51bTsKICAgICAgICAgICAgdmFyIG9wdGlvblNlbGVjdGVkTnVtID0gbnVtOwoKICAgICAgICAgICAgaWYgKG9wdGlvblNlbGVjdGVkTnVtIDwgbWluT3B0aW9uTnVtKSB7CiAgICAgICAgICAgICAgdG90YWxGZWUgPSAwOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIGNvdW50IGNvbWJpbmF0aW9uLCBsaWtlIEMoNyw2KQogICAgICAgICAgICAgIHRvdGFsRmVlID0gdG90YWxGZWUgKiAodGhpcy5mYWN0b3JpYWwob3B0aW9uU2VsZWN0ZWROdW0sIG9wdGlvblNlbGVjdGVkTnVtIC0gbWluT3B0aW9uTnVtICsgMSkgLyB0aGlzLmZhY3RvcmlhbChtaW5PcHRpb25OdW0sIDEpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZmVlID0gdG90YWxGZWUgKiBiYXNlRmVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmVlID0gMDsKICAgICAgfQoKICAgICAgdGhpcy5vcHRpb25zU2VsZWN0ZWQgPSBvcHRpb25zU2VsZWN0ZWRUZW1wOwogICAgfSwKICAgIGZhY3RvcmlhbDogZnVuY3Rpb24gZmFjdG9yaWFsKG1heCwgbWluKSB7CiAgICAgIGlmIChtaW4gPiBtYXgpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQoKICAgICAgdmFyIHJlc3VsdCA9IG1heDsKCiAgICAgIGZvciAodmFyIGkgPSBtaW47IGkgPCBtYXg7IGkrKykgewogICAgICAgIHJlc3VsdCA9IGkgKiByZXN1bHQ7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3VzSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGdsb2JhbC5DVVNUT01FUl9JRF9LRVkpOwogICAgICB2YXIgdG90YWxGZWUgPSB0aGlzLmZlZSAqIHRoaXMudGltZXM7CgogICAgICBpZiAodG90YWxGZWUgPiB0aGlzLmN1c3RvbWVyLmRlcG9zaXQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKCLkvZnpop3kuI3otrMiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0b3RhbEZlZSA+IGdsb2JhbC5GRUVfTUFYKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSgi6LaF6L+H5pyA5aSn5oqV5rOo6aKdIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAiY3VzdG9tZXIiOiB7CiAgICAgICAgICAiaWQiOiBjdXNJZAogICAgICAgIH0sCiAgICAgICAgImxvdHRlcnlSb3VuZCI6IHsKICAgICAgICAgICJpZCI6IHRoaXMubG90dGVyeVJvdW5kLmlkCiAgICAgICAgfSwKICAgICAgICAidGltZXMiOiB0aGlzLnRpbWVzLAogICAgICAgICJvcHRpb25zIjogdGhpcy5vcHRpb25zU2VsZWN0ZWQKICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS92MS9jdXN0b21lcnMvJyArIGN1c0lkICsgJy9iaWRzJywgZGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoIuaKleazqOaIkOWKnyIpOwoKICAgICAgICBfdGhpcy5jdXN0b21lci5kZXBvc2l0ID0gX3RoaXMuY3VzdG9tZXIuZGVwb3NpdCAtIHJlc3BvbnNlLmRhdGEuZmVlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHZhciBjdXNJZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZ2xvYmFsLkNVU1RPTUVSX0lEX0tFWSk7CiAgICB2YXIgbG90dGVyeUlkID0gdGhpcy4kcm91dGUucXVlcnkubG90dGVyeUlkOwogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3YxL2N1c3RvbWVycy8nICsgY3VzSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiBfdGhpczIuY3VzdG9tZXIgPSByZXNwb25zZS5kYXRhOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3YxL2xvdHRlcmllcy8nICsgbG90dGVyeUlkICsgJy9yb3VuZHM/c3RhdHVzPWFjdGl2ZScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvbnRlbnQubGVuZ3RoID4gMCkgewogICAgICAgIF90aGlzMi5sb3R0ZXJ5Um91bmQgPSByZXNwb25zZS5kYXRhLmNvbnRlbnRbMF07CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS92MS9sb3R0ZXJpZXMvJyArIGxvdHRlcnlJZCArICcvb3B0aW9ucycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBvcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgdmFyIG9wdGlvbnNCeWl0ZW0gPSBbXTsKICAgICAgdmFyIG9wdGlvbnNCeUl0ZW1JZCA9IG5ldyBNYXAoKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zW2ldOwogICAgICAgIHZhciBpdGVtID0gb3B0aW9uLml0ZW07CgogICAgICAgIGlmIChvcHRpb25zQnlJdGVtSWQuaGFzKGl0ZW0uaWQpKSB7CiAgICAgICAgICBvcHRpb25zQnlJdGVtSWQuZ2V0KGl0ZW0uaWQpLnB1c2gob3B0aW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3B0aW9uc0J5aXRlbSA9IFtdOwogICAgICAgICAgb3B0aW9uc0J5aXRlbS5wdXNoKG9wdGlvbik7CiAgICAgICAgICBvcHRpb25zQnlJdGVtSWQuc2V0KGl0ZW0uaWQsIG9wdGlvbnNCeWl0ZW0pOwoKICAgICAgICAgIF90aGlzMi5pdGVtQnlJdGVtSWQuc2V0KGl0ZW0uaWQsIGl0ZW0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgX3RoaXMyLm9wdGlvbnNCeUl0ZW1JZCA9IG9wdGlvbnNCeUl0ZW1JZDsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["Lottery.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div>\n            <div>账户余额：{{ customer.deposit }}</div>\n        </div>\n        <div>\n            <div style=\"line-height: 36px;\">\n                <div >\n                    彩票名称：{{ lotteryRound.lottery.name }}\n                </div>\n                <div>\n                    开奖日期：{{ lotteryRound.openingTime }}\n                </div>\n                <div style=\"overflow:hidden\" v-for=\"(optionsItemId, itemIndex) in optionsByItemId.entries()\" v-bind:key=\"itemIndex\">\n                    <div></div>\n                    <div style=\"float:left;\">\n                        {{ itemByItemId.get(optionsItemId[0]).name }}：\n                    </div>\n                    <div style=\"float:left;margin:2px;\" v-for=\"(option, optionIndex) of optionsItemId[1]\" v-bind:key=\"optionIndex\">\n                        <el-button v-on:click=\"selectOption(option)\" v-bind:class=\"optionsSelected.includes(option)?'select': 'unselect' \" size=\"small\" circle>\n                            <div style=\"width: 16px;\">\n                            {{ option.text }}\n                            </div>\n                        </el-button>\n                    </div>\n                </div>\n                <div style=\"overflow:hidden\">\n                    <div style=\"float:left;\">\n                            投注倍数：\n                    </div>\n                    <div  style=\"float:left;\">\n                        <el-input maxlength=\"5\" v-model=\"times\" placeholder=\"倍数\" size=\"small\" min=\"1\"></el-input>\n                    </div>\n                </div>\n                <div style=\"overflow:hidden\">\n                    <div style=\"float:left;\">\n                            单注费用：\n                    </div>\n                    <div style=\"float:left;\">\n                            {{ fee }}\n                    </div>\n                </div>\n                <div>\n                    <div>\n                        <el-button v-on:click=\"submit()\" size=\"small\" v-bind:disabled=\"fee == 0\">\n                            确定\n                        </el-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    data () {\n        return {\n            fee: 0,\n            current: null,\n            times: 1,\n            customer: { \"id\": \"\", \"deposit\": 0 },\n            lotteryRound: {\"lottery\": {\"name\":\"\"}},\n            optionsByItemId: new Map(),\n            itemByItemId: new Map(),\n            optionsSelected: []\n        }\n    },\n    methods: {\n        selectOption: function (optionSelected) {\n            let optionsSelectedTemp = [...this.optionsSelected]\n            var position = optionsSelectedTemp.indexOf(optionSelected);\n            if (position < 0) {\n                optionsSelectedTemp.push(optionSelected);\n            } else {\n                optionsSelectedTemp.splice(position, 1);\n            }\n            // count options selected by item\n            var optionSelectedNumByItemId = new Map();\n            for (var i = 0; i < optionsSelectedTemp.length; i++) {\n                var option = optionsSelectedTemp[i];\n                var itemId = option.item.id;\n                if ( optionSelectedNumByItemId.has(itemId)) {\n                    optionSelectedNumByItemId.set(itemId, optionSelectedNumByItemId.get(itemId) + 1);\n                } else {\n                    optionSelectedNumByItemId.set(itemId, 1 );\n                }\n            }\n\n            console.log(\"###1 \" + optionSelectedNumByItemId.size)\n            console.log(\"###2 \" + JSON.stringify(this.lotteryRound.lottery))\n            // count fee\n            if (optionSelectedNumByItemId.size >= this.lotteryRound.lottery.minItemNum)  {\n                let baseFee = this.lotteryRound.lottery.baseFee;\n                let totalFee = 1;\n                \n                for  (let [itemId, num] of optionSelectedNumByItemId) {\n                    let item = this.itemByItemId.get(itemId);\n                    let minOptionNum = item.minOptionNum;\n                    let optionSelectedNum = num;\n                    if (optionSelectedNum < minOptionNum) {\n                        totalFee = 0;\n                    } else {\n                        // count combination, like C(7,6)\n                        totalFee = totalFee * (this.factorial(optionSelectedNum, (optionSelectedNum - minOptionNum + 1))/this.factorial(minOptionNum,1));\n                    }\n                } \n                this.fee = totalFee * baseFee;\n            } else {\n                 this.fee = 0;\n            }\n            this.optionsSelected = optionsSelectedTemp;\n        },\n        factorial: function(max, min) {\n            if (min > max) {\n                return 0;\n            }\n            let result = max;\n            for (let i = min; i< max; i++){\n                result = i * result;\n            }\n            return result;\n        },\n        submit: function() {\n            let cusId = sessionStorage.getItem(global.CUSTOMER_ID_KEY);\n            let totalFee = this.fee * this.times;\n            if (totalFee > this.customer.deposit) {\n                this.$message(\"余额不足\");\n                return;\n            }\n            if (totalFee > global.FEE_MAX) {\n                this.$message(\"超过最大投注额\");\n                return;\n            }\n            let data = {\n                \"customer\": {\"id\": cusId},\n                \"lotteryRound\": {\"id\": this.lotteryRound.id},\n                \"times\": this.times,\n                \"options\": this.optionsSelected\n            };\n            axios\n                .post('http://localhost:8080/api/v1/customers/' + cusId +'/bids', data, {headers: {'Content-Type': 'application/json'}})\n                .then(\n                    response => {\n                        this.$message(\"投注成功\");\n                        this.customer.deposit = this.customer.deposit - response.data.fee;\n                    }\n                )\n                .catch(function (error) { \n                    console.log(error);\n                });\n        }\n    },\n    mounted () {\n        let cusId = sessionStorage.getItem(global.CUSTOMER_ID_KEY);\n        let lotteryId = this.$route.query.lotteryId;\n        axios\n            .get('http://localhost:8080/api/v1/customers/' + cusId)\n            .then(response => (this.customer = response.data))\n            .catch(function (error) { \n                console.log(error);\n            });\n        axios\n            .get('http://localhost:8080/api/v1/lotteries/' + lotteryId + '/rounds?status=active')\n            .then(response => {\n                    if (response.data.content.length > 0) {\n                        this.lotteryRound = response.data.content[0];\n                    }\n                })\n            .catch(function (error) { \n                console.log(error);\n            });\n        axios\n            .get('http://localhost:8080/api/v1/lotteries/' + lotteryId + '/options')\n            .then(response => {\n                    var options = response.data;\n                    var optionsByitem = [];\n                    var optionsByItemId = new Map();\n                    for (var i = 0; i < options.length; i ++) {\n                        var option = options[i];\n                        var item = option.item;\n                        if (optionsByItemId.has(item.id)) {\n                            optionsByItemId.get(item.id).push(option);\n                        } else {\n                            optionsByitem = [];\n                            optionsByitem.push(option);\n                            optionsByItemId.set(item.id, optionsByitem);\n\n                            this.itemByItemId.set(item.id, item);\n                        }\n                    }\n                    this.optionsByItemId = optionsByItemId;\n                })\n            .catch(function (error) { \n                console.log(error);\n            });\n    }\n}\n</script>\n\n<style>\n.select{\n    background-color: red !important;\n    color:white !important;\n}\n.select:hover{\n    background-color: red !important;\n    color:white !important;\n}\n.select:focus{\n    background-color: red !important;\n    color:white !important;\n}\n.unselect{\n    background-color: white !important;\n    border-color: #DCDFE6 !important;\n}\n.unselect:hover{\n    background-color: white !important;\n    border-color: #DCDFE6 !important;\n    color:black !important;\n}\n.unselect:focus{\n    background-color: white !important;\n    border-color: #DCDFE6 !important;\n    color:black !important;\n}\n</style>"],"sourceRoot":"src/components"}]}